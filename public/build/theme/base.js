(window.webpackJsonp=window.webpackJsonp||[]).push([["base"],{"4zVt":function(t,e,a){var r,i;r=[a,e,a("lTfz")],void 0===(i=function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.$currentlyDragged=null,this.textFieldCursorPosition=0,this.$filterArea=a("[data-filter-area]"),this.$letterArea=a("[data-letter-area]"),this.$dataOutputField=a("[data-output-field]"),this.initFavoriteTags(),this.initFavoriteLetters(),this.initLetterClick(),this.initFilter()}return t.prototype.initFavoriteTags=function(){var t=this,e=this;this.$filterArea.find("[data-favorite-tags]").find("[data-tag]").data("favorite",1),this.$filterArea.find("[data-tags]").find("[data-tag]").data("favorite",0),this.$filterArea.find("[data-tag]").on("dragstart",(function(){1==a(this).data("favorite")?e.$filterArea.addClass("dragging-favorite-tag"):e.$filterArea.addClass("dragging-tag"),e.$currentlyDragged=a(this)}));var r=this.$filterArea.find("[data-favorite-tags]");r.on("dragover",(function(t){return t.preventDefault(),!0})),r.on("drop dragdrop",(function(i){null!=e.$currentlyDragged&&e.$currentlyDragged.data("tag")&&(0==e.$currentlyDragged.data("favorite")&&(t.$currentlyDragged.appendTo(r),t.$currentlyDragged.data("favorite",1),a.ajax({url:"/tag/favorite/"+t.$currentlyDragged.data("tag")})),t.$currentlyDragged=null)}));var i=this.$filterArea.find("[data-tags]");i.on("dragover",(function(t){return t.preventDefault(),!0})),i.on("drop dragdrop",(function(r){null!=e.$currentlyDragged&&e.$currentlyDragged.data("tag")&&(1==e.$currentlyDragged.data("favorite")&&(t.$currentlyDragged.appendTo(i),t.$currentlyDragged.data("favorite",0),a.ajax({url:"/tag/unfavorite/"+t.$currentlyDragged.data("tag")})),t.$currentlyDragged=null)})),a(document).on("dragend",(function(){t.$filterArea.removeClass("dragging-favorite-tag").removeClass("dragging-tag"),t.$currentlyDragged=null}))},t.prototype.initFavoriteLetters=function(){var t=this,e=this;this.$letterArea.find("[data-favorite-letters]").find("[data-letter]").data("favorite",1),this.$letterArea.find("[data-letters]").find("[data-letter]").data("favorite",0),this.$letterArea.find("[data-letter]").on("dragstart",(function(){1==a(this).data("favorite")?e.$letterArea.addClass("dragging-favorite-letter"):e.$letterArea.addClass("dragging-letter"),e.$currentlyDragged=a(this)}));var r=this.$letterArea.find("[data-favorite-letters]");r.on("dragover",(function(t){return t.preventDefault(),!0})),r.on("drop dragdrop",(function(i){null!=e.$currentlyDragged&&e.$currentlyDragged.data("letter")&&(0==e.$currentlyDragged.data("favorite")&&(t.$currentlyDragged.appendTo(r),t.$currentlyDragged.data("favorite",1),a.ajax({url:"/letter/favorite/"+t.$currentlyDragged.data("letter")})),t.$currentlyDragged=null)}));var i=this.$letterArea.find("[data-letters]");i.on("dragover",(function(t){return t.preventDefault(),!0})),i.on("drop dragdrop",(function(r){null!=e.$currentlyDragged&&e.$currentlyDragged.data("letter")&&(1==e.$currentlyDragged.data("favorite")&&(t.$currentlyDragged.appendTo(i),t.$currentlyDragged.data("favorite",0),a.ajax({url:"/letter/unfavorite/"+t.$currentlyDragged.data("letter")})),t.$currentlyDragged=null)})),a(document).on("dragend",(function(){t.$letterArea.removeClass("dragging-favorite-letter").removeClass("dragging-letter"),t.$currentlyDragged=null}))},t.prototype.initLetterClick=function(){var t=this,e=this;e.$dataOutputField.on("click keyup",(function(){t.textFieldCursorPosition=e.$dataOutputField.prop("selectionStart")})),this.$letterArea.find("[data-letter]").on("click",(function(){var t=e.$dataOutputField.val(),r=t.substring(0,e.textFieldCursorPosition)+a(this).find("[data-letter-symbol]").html()+t.substring(e.textFieldCursorPosition,t.length);e.$dataOutputField.val(r),e.textFieldCursorPosition++,e.$dataOutputField.prop("selectionStart",e.textFieldCursorPosition),e.$dataOutputField.prop("selectionEnd",e.textFieldCursorPosition),e.$dataOutputField.trigger("focus")}))},t.prototype.initFilter=function(){var t=this;this.$filterArea.find("[data-tag]").on("mouseup",(function(e){switch(e.button){case 0:a(this).removeClass("not"),a(this).toggleClass("active");break;case 1:a(this).removeClass("active"),a(this).toggleClass("not")}t.updateFilters()}))},t.prototype.updateFilters=function(){var t=[],e=[],r=[];this.$filterArea.find("[data-tag].active").each((function(){var r=a(this).data("or-group");if(r){for(var n=0,d=t;n<d.length;n++){var o=d[n];if(o.name==r)return void o.filters.push(a(this).data("tag"))}var s=new i(r);s.filters.push(a(this).data("tag")),t.push(s)}else e.push(a(this).data("tag"))})),this.$filterArea.find("[data-tag].not").each((function(){r.push(a(this).data("tag"))})),this.$letterArea.find("[data-letter]").each((function(){for(var i=a(this).data("tags"),n=0,d=r;n<d.length;n++){var o=d[n];if(i.hasOwnProperty(o))return void a(this).addClass("filtered-out")}for(var s=0,l=e;s<l.length;s++){o=l[s];if(!i.hasOwnProperty(o))return void a(this).addClass("filtered-out")}for(var u=0,c=t;u<c.length;u++){for(var g=!1,f=0,h=c[u].filters;f<h.length;f++){o=h[f];if(i.hasOwnProperty(o)){g=!0;break}}if(!g)return void a(this).addClass("filtered-out")}a(this).removeClass("filtered-out")}))},t}();e.default=r;var i=function(t){this.name=t,this.filters=[]}}.apply(e,r))||(t.exports=i)},"9Zxs":function(t,e,a){},"F/ys":function(t,e,a){var r,i;r=[a,e,a("lTfz"),a("4zVt"),a("hSM3"),a("jlm1"),a("9Zxs")],void 0===(i=function(t,e,a,r,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),a("[data-training]").length>0?new i.default:a("[data-training-letters]").length>0?new n.default:new r.default}.apply(e,r))||(t.exports=i)},hSM3:function(t,e,a){var r,i;r=[a,e,a("lTfz"),a("vDqi")],void 0===(i=function(t,e,a,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){var t=this;this.numCorrect=0,this.numWrong=0,this.currentIndex=-1,this.nextSheet(),a("[data-choice]").on("click",(function(e){t.choiceClick(a(e.target))})),a("[data-next-sheet]").on("click",(function(){t.nextSheet()})),a("[data-change-score]").on("click",(function(e){t.changeScore(a(e.target))}))}return t.prototype.choiceClick=function(t){var e=this;if(!this.solved){this.solved=!0;var a="correct"==t.data("choice"),r=t.data("letter-id");this.$currentSheet.addClass("solved"),a?(this.$currentSheet.addClass("correct"),this.numCorrect++):(this.numWrong++,setTimeout((function(){e.$currentSheet.addClass("can-continue")}),1e3)),this.sendResult(this.currentLetterId,a,r)}},t.prototype.nextSheet=function(){a("[data-sheet]").removeClass("active"),this.currentIndex++,this.$currentSheet=a('[data-sheet="'+this.currentIndex+'"]'),this.solved=!1,this.$currentSheet.length>0?(this.$currentSheet.addClass("active"),this.currentLetterId=this.$currentSheet.data("letter")):location.reload()},t.prototype.sendResult=function(t,e,a){var i="/training/adjust-letter-score/"+t+"/";if(i+=e?"1":"0",r.default.get(i),!e){var n="/training/adjust-letter-score/"+a+"/0";r.default.get(n)}},t.prototype.changeScore=function(t){if(!t.hasClass("clicked")){t.addClass("clicked");var e=t.data("change-score");r.default.get(e)}},t}();e.default=i}.apply(e,r))||(t.exports=i)},jlm1:function(t,e,a){var r,i;r=[a,e,a("lTfz"),a("vDqi")],void 0===(i=function(t,e,a,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){var t=this;a("[data-change-score]").on("click",(function(e){e.preventDefault(),t.changeLetterScore(a(e.target))})),a("[data-toggle-active]").on("click",(function(e){e.preventDefault(),t.toggleLetterActive(a(e.target))})),a("[data-switch-mode]").on("click",(function(t){t.preventDefault(),"active"==a(t.target).data("switch-mode")?a("[data-training-letters]").addClass("mode-active"):a("[data-training-letters]").removeClass("mode-active")}))}return t.prototype.changeLetterScore=function(t){var e=t.prop("href"),a=t.closest("[data-letter]");r.default.get(e).then((function(t){t.data.success&&(a.removeClass("good").removeClass("mid").removeClass("bad").addClass(t.data.scoreClass),a.find("[data-score]").html(t.data.score))}))},t.prototype.toggleLetterActive=function(t){var e=t.prop("href"),a=t.closest("[data-letter]");r.default.get(e).then((function(t){t.data.success&&(t.data.letterActive?a.removeClass("inactive"):a.addClass("inactive"))}))},t}();e.default=i}.apply(e,r))||(t.exports=i)}},[["F/ys","runtime",0]]]);